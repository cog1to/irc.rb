diff --git a/irc.rb b/irc.rb
index df74a71..b261ba8 100755
--- a/irc.rb
+++ b/irc.rb
@@ -3,6 +3,7 @@
 require "socket"
 require "io/console"
 require 'optparse'
+require "openssl"
 
 ###########
 # Styling #
@@ -178,6 +179,7 @@ SETTINGS = {
 options = {
 	:port => 6667,
 	:server => "irc.rizon.net",
+	:tls => false
 }
 
 OptionParser.new do |opt|
@@ -193,6 +195,9 @@ OptionParser.new do |opt|
 	opt.on("-s", "--pass PASS") { |o|
 		options[:pass] = o
 	}
+	opt.on("-t", "--tls") { |o|
+		options[:tls] = true
+	}
 	opt.on("-h", "--help") {
 		puts opt
 		exit
@@ -215,10 +220,11 @@ end
 #####################################################################
 
 class IRC
-	def initialize(addr, port)
+	def initialize(addr, port, tls)
 		# Save connection data
 		@addr = addr
 		@port = port
+		@tls = tls
 		@callback = nil
 		@err = nil
 	end
@@ -233,7 +239,12 @@ class IRC
 
 	def open()
 		@buffer = ""
-		@socket = TCPSocket.new(@addr, @port, connect_timeout: 30)
+		if @tls then
+			@socket = OpenSSL::SSL::SSLSocket.open(@addr, @port)
+			@socket.connect
+		else
+			@socket = TCPSocket.new(@addr, @port)
+		end
 		listen()
 	end
 
@@ -242,7 +253,11 @@ class IRC
 			while @socket do
 				begin
 					IO.select([@socket])
-					@buffer += @socket.recv(128)
+					if @socket.respond_to? "sysread" then
+						@buffer += @socket.sysread(128)
+					else
+						@buffer += @socket.recv(128)
+					end
 
 					# Parse any full messages
 					if @callback then
@@ -269,7 +284,14 @@ class IRC
 	def send(msg)
 		if @socket then
 			begin
-				@socket.send(msg + "\r\n", 0)
+				if @socket.respond_to? "syswrite" then
+					@socket.syswrite(msg + "\r\n")
+				else
+					@socket.send(msg + "\r\n", 0)
+				end
+			rescue => ex
+				@err.call(ex) if @err
+				close()
 			rescue => ex
 				@err.call(ex) if @err
 				close()
@@ -279,7 +301,11 @@ class IRC
 
 	def close()
 		if @socket then
-			@socket.close()
+			if @socket.respond_to? "stop" then
+				@socket.stop()
+			else
+				@socket.close()
+			end
 			@socket = nil
 		end
 	end
@@ -981,11 +1007,12 @@ end
 class Client
 	attr_reader :host, :user, :state
 
-	def initialize(host, port, user, pass)
+	def initialize(host, port, user, pass, tls)
 		@host = host
 		@port = port
 		@user = user
 		@pass = pass
+		@tls = tls
 		@state = :closed
 		@queue = Queue.new
 		@read_fd, @write_fd = IO.pipe
@@ -1018,7 +1045,7 @@ class Client
 
 		@state = :connecting
 		begin
-			@irc = IRC.new(@host, @port)
+			@irc = IRC.new(@host, @port, @tls)
 			@irc.on_message { |msg| handle_message(msg) }
 			@irc.on_error { |err| handle_error(err) }
 			@irc.open()
@@ -2400,7 +2427,13 @@ begin
 	STDOUT.puts "\033[?1049h"
 
 	# Setup
-	client = Client.new(options[:server], options[:port], options[:user], options[:pass])
+	client = Client.new(
+		options[:server],
+		options[:port],
+		options[:user],
+		options[:pass],
+		options[:tls]
+	)
 	app = App.new(client)
 
 	# Start run loop
